<!DOCTYPE HTML>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui">

    <h:head>
        <title>Opentheso</title>

        <link href="resources/images/icon_opentheso2.png" rel="icon" />
        <link href="resources/css/sb-admin-2.css" rel="stylesheet" />
        <link href="resources/vendor/fontawesome-free/css/all.min.css" rel="stylesheet" type="text/css" />
        <link href="https://fonts.googleapis.com/css?family=Nunito:200,200i,300,300i,400,400i,600,600i,700,700i,800,800i,900,900i" rel="stylesheet" />

        <h:outputText value="#{preferenceBean.googleAnalytics}" escape="false"/>

        <h:panelGroup id="indexTitle" >
            <title>
                <h:outputText rendered="#{conceptView.nodeConcept != null or conceptView.nodeConcept.term.lexical_value != ''}"
                              value="#{conceptView.nodeConcept.term.lexical_value}"/>
                <h:outputText rendered="#{conceptView.nodeConcept == null or conceptView.nodeConcept.term.lexical_value == ''}"
                              value="#{Opentheso}"/>
            </title>

            <meta name="description" content="#{langueBean.getMsg('index.Opentheso_info')}"/>
        </h:panelGroup>

        <link rel="icon" href="resources/img/icon_opentheso2.png" />
        <link rel="stylesheet" type="text/css" href="resources/css/index.css" media="screen" />
        <link rel="stylesheet" type="text/css" href="resources/css/menu.css" media="screen" />
        <link rel="stylesheet" type="text/css" href="resources/css/search.css" media="screen" />
        <link rel="stylesheet" type="text/css" href="resources/css/tree.css" media="screen" />
        <link rel="stylesheet" type="text/css" href="resources/css/rightBody.css" media="screen" />
        <link rel="stylesheet" type="text/css" href="resources/css/leftBody.css" media="screen" />
        <link rel="stylesheet" type="text/css" href="resources/css/dialog.css" media="screen" />
        <link rel="stylesheet" type="text/css" href="resources/css/autocomplete.css" media="screen" />
        <link rel="stylesheet" type="text/css" href="resources/css/composants.css" media="screen" />

        <h:outputStylesheet name="primeicons/primeicons.css" library="primefaces"/>

        <script type="text/javascript" src="resources/js/scrollToSelectedScript.js"></script>

        <!--<script>
            $.blockUI.defaults.css.width = '20%';
            $.blockUI.defaults.css.left = '40%';
            $.blockUI.defaults.css.height = '5em';
            $.blockUI.defaults.css.borderRadius = '10px';
            $.blockUI.defaults.overlayCSS.opacity = 0.5;
            $.blockUI.defaults.message = '<div style="padding-top:1em"><b:spinner name="circle-o-notch" size="2x" /> Please wait ... </div>';
        </script>-->

    </h:head>

    <h:body id="page-top" style="font-size: 12px;">

        <p:idleMonitor timeout="#{connect.timeout}">
            <p:ajax event="idle" listener="#{sessionControl.isTimeout}" />
        </p:idleMonitor>

        <f:metadata>
            <f:viewParam name="idc" value="#{selectedTheso.idConceptFromUri}"/>
            <f:viewParam name="idt" value="#{selectedTheso.idThesoFromUri}"/>
            <f:viewAction action="#{selectedTheso.preRenderView}"/>
        </f:metadata>

        <p:growl id="messageIndex" globalOnly="true" showDetail="true"/>

        <div id="wrapper" style="height: 100%">

            <ui:include src="commun/menu.xhtml" />

            <div id="content-wrapper" style="width: 100%">

                <h:form id="containerIndex">
                    <div>
                        <ui:include src="commun/header.xhtml" />
                    </div>

                    <div id="thesorusContent" style="margin-top: -20px;">
                        <h:panelGroup rendered="#{!indexSetting.isSelectedTheso}" >
                            <ui:include src="thesaurus/main_thesaurus.xhtml" />
                        </h:panelGroup>
                        <h:panelGroup rendered="#{indexSetting.isSelectedTheso}" >
                            <ui:include src="thesaurus/details_thesaurus.xhtml" />
                        </h:panelGroup>
                    </div>
                </h:form>
            </div>
        </div>

        <!-- Scroll to Top Button-->
        <a class="scroll-to-top rounded" href="#page-top">
            <i class="fas fa-angle-up" />
        </a>

        <!-- Bootstrap core JavaScript
        <script src="resources/vendor/jquery/jquery.min.js"></script>-->
        <script src="resources/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
        <script src="resources/vendor/jquery-easing/jquery.easing.min.js"></script>
        <script src="resources/js/sb-admin-2.js"></script>

        <p:dialog modal="true" widgetVar="statusDialog" draggable="false" closable="false" resizable="false">
            <p:graphicImage value="resources/img/wait_old.gif" width="150px" />
        </p:dialog>  

        <h:form id="conceptForm" rendered="#{(currentUser.nodeUser != null) and (roleOnTheso.isManagerOnThisTheso or roleOnTheso.isAdminOnThisTheso or roleOnTheso.isSuperAdmin)}"> 
            
            <ui:include src="dialog/concept/addTopConcept.xhtml" />
            <ui:include src="dialog/copyAndPasteBetweenTheso/copyAndPasteBetweenThesoToTop.xhtml" />          

            <ui:include src="dialog/facet/addFacet.xhtml" />
            <ui:include src="dialog/concept/addNT.xhtml" /> 

            <ui:include src="dialog/concept/renameConcept.xhtml" />
            
            <ui:include src="dialog/group/addConceptToGroup.xhtml" />
            <ui:include src="dialog/group/removeConceptFromGroup.xhtml" />
            <ui:include src="dialog/group/removeConceptAndChildFromGroup.xhtml" />
            <ui:include src="dialog/group/addConceptAndChildToGroup.xhtml" />

            <ui:include src="dialog/broader/addBroaderLink.xhtml" />
            <ui:include src="dialog/broader/deleteBroaderLink.xhtml" />

            <ui:include src="dialog/narrower/addNarrowerLink.xhtml" />
            <ui:include src="dialog/narrower/deleteNarrowerLink.xhtml" />
            <ui:include src="dialog/narrower/changeRelation.xhtml" />

            <ui:include src="dialog/related/addRelatedLink.xhtml" /> 
            <ui:include src="dialog/related/deleteRelatedLink.xhtml" /> 

            <ui:include src="dialog/synonym/addSynonym.xhtml" />        
            <ui:include src="dialog/synonym/deleteSynonym.xhtml" /> 
            <ui:include src="dialog/synonym/renameSynonym.xhtml" />

            <ui:include src="dialog/traduction/addTraduction.xhtml" />
            <ui:include src="dialog/traduction/deleteTraduction.xhtml" />
            <ui:include src="dialog/traduction/renameTraduction.xhtml" />               

            <ui:include src="dialog/concept/setNotation.xhtml" />

            <ui:include src="dialog/note/addNote.xhtml" /> 
            <ui:include src="dialog/note/deleteNote.xhtml" /> 
            <ui:include src="dialog/note/editNote.xhtml" />

            <ui:include src="dialog/history/historicalView.xhtml" />

            <ui:include src="dialog/alignment/addAlignment.xhtml" />
            <ui:include src="dialog/alignment/deleteAlignment.xhtml" />     
            <ui:include src="dialog/alignment/updateAlignment.xhtml" />         
            <ui:include src="dialog/alignment/addManualAlignment.xhtml" /> 

            <ui:include src="dialog/group/modifyGroup.xhtml" />
            <ui:include src="dialog/group/addTraductionGroup.xhtml" />
            <ui:include src="dialog/group/deleteTraductionGroup.xhtml" />
            <ui:include src="dialog/group/renameTraductionGroup.xhtml" />

            <ui:include src="dialog/facet/addNT.xhtml" />
            <ui:include src="dialog/facet/addMembers.xhtml" />
            <ui:include src="dialog/facet/renameFacet.xhtml" />
            <ui:include src="dialog/facet/removeMembers.xhtml" /> 
        </h:form>

    </h:body>

</html>