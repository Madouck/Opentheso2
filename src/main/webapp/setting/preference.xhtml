<ui:fragment xmlns="http://www.w3.org/1999/xhtml"
             xmlns:h="http://java.sun.com/jsf/html"  
             xmlns:ui="http://java.sun.com/jsf/facelets"
             xmlns:b="http://bootsfaces.net/ui"
             xmlns:p="http://primefaces.org/ui"
             xmlns:f="http://xmlns.jcp.org/jsf/core">

    <h:form id="preferenceForm">
        <b:panel style="margin-top: -20px; margin-left: -30px;  height: 700px; background-color: #FAFAFA; border: none;">

            
            <!-- Url du site local -->
            <b:row style="margin-left: 30px; margin-right: 30px; font-size: 12px; margin-top: 10px;">
                <b:column span="2">
                    <h:outputText value="Url du site local" title="L'URL local du serveur qui héberge Opentheso, elle sert aussi à générer les identifiants pérennes (exp: https://monsite.fr/opentheso/)"/>
                </b:column>                
                <b:column span="6" >
                    <b:inputText value="#{preferenceBean.nodePreference.cheminSite}" style="height: 25px;font-size: 12px;"
                                 title="L'URL local du serveur qui héberge Opentheso, elle sert aussi à générer les identifiants pérennes (exp: https://monsite.fr/opentheso/)"/>
                </b:column>              
            </b:row>
            <p:spacer/>            
            
            <!-- Uri d'origine -->
            <b:row style="margin-left: 30px; margin-right: 30px; font-size: 12px;">
                <b:column span="2">
                    <h:outputText value="Uri d'origine " title="Pour construire l'URI du concept d'origine, choisir la bonne combinaison !!"/>
                    <b:iconAwesome value="fa-info" size="l" style="color: #C63632; margin-left: 5px;" 
                                   tooltip="Pour construire l'URI du concept d'origine, choisir la bonne combinaison !!
                                   C'est ce choix qui va servir à construire l'URI du concept à l'export"
                                   tooltip-delay-show="500"/>
                </b:column>

                <b:column span="6">
                    <b:row>
                        <b:column span="12">
                            <p:selectOneRadio id="customRadioUri" value="#{preferenceBean.uriType}"  >
                                <f:selectItem itemLabel="Uri classique" itemValue="uri" />
                                <f:selectItem itemLabel="Ark" itemValue="ark" />
                                <f:selectItem itemLabel="Handle" itemValue="handle" />
                                <f:selectItem itemLabel="Doi" itemValue="doi" />
                            </p:selectOneRadio>
                        </b:column>
                    </b:row>
                    <b:row>
                        <b:column span="12">
                            <b:inputText value="#{preferenceBean.nodePreference.originalUri}" style="height: 25px;font-size: 12px;"/> 
                        </b:column>
                    </b:row>
                </b:column>                
            </b:row>


            <!-- Langue Source -->
            <b:row style="margin-left: 30px; margin-right: 30px; font-size: 12px; margin-top: 10px;">
                <b:column span="2">
                    <h:outputText value="Langue par defaut" />
                </b:column>                
                <b:column span="6" >
                    <p:selectOneMenu id="langOfTheso" value="#{preferenceBean.nodePreference.sourceLang}" styleClass="selectOneMenu_custom" panelStyleClass="selectOneMenu_panelStyle_custom"
                                     style="width: 100%; background: none;  box-shadow: none; "
                                     panelStyle="border: none; box-shadow: none; max-width: 300px" >
                        <f:selectItems  value="#{preferenceBean.languagesOfTheso}" var="lang" itemLabel="#{lang.value} (#{lang.code})" itemValue="#{lang.code}"/> 
                    </p:selectOneMenu>
                </b:column>              
            </b:row>
            <p:spacer/>

            <!-- Type d'identification -->
            <b:row style="margin-left: 30px; margin-right: 30px; font-size: 12px;">
                <b:column span="2">
                    <h:outputText value="Type d'identifiant"  />
                </b:column>
                <b:column span="6">
                    <p:selectOneMenu value="#{preferenceBean.nodePreference.identifierType}" 
                                     styleClass="selectOneMenu_custom" panelStyleClass="selectOneMenu_panelStyle_custom"
                                     style="width: 100%; background: none;  box-shadow: none; ">
                        <f:selectItem itemLabel="Alphanumérique" itemValue="1" />
                        <f:selectItem itemLabel="Numérique" itemValue="2" />                        
                    </p:selectOneMenu>
                </b:column>                
            </b:row>             
            <p:spacer/>

            <!-- Nom d'identifiant du thésaurus -->
            <b:row style="margin-left: 30px; margin-right: 30px; font-size: 12px;">
                <b:column span="2">
                    <h:outputText value="Nom pérenne du thésaurus" />
                </b:column>
                <b:column span="6">
                    <b:inputText value="#{preferenceBean.nodePreference.preferredName}" style="height: 25px;font-size: 12px;"/>
                </b:column>
                <b:column span="2">
                    <b:link href="#{request.contextPath}/api/theso/#{preferenceBean.nodePreference.preferredName}"
                            value="Testez le lien" icon="link" icon-size="sm" style="font-size: 12px; color: #43B572;"></b:link>
                </b:column>                
            </b:row>   
            

            <p:spacer/>
            <!-- Activer/ désactiver le déployement auto de l'arbre  -->
            <b:row style="margin-left: 30px; margin-right: 30px; font-size: 12px;">
                <b:column span="6">
                    <h:outputText value="Désactiver/Activer le déploiement auto de l'arbre" />
                </b:column>
                <b:column span="2" offset="1">
                    <p:toggleSwitch value="#{preferenceBean.nodePreference.auto_expand_tree}" style="font-size: 12px;" />                    
                </b:column>
            </b:row>
            
            <!-- Activer/ désactiver le cache de l'arbre  -->
            <b:row style="margin-left: 30px; margin-right: 30px; font-size: 12px;">
                <b:column span="6">
                    <h:outputText value="Désactiver/Activer le cache de l'arbre" title="Quand c'est activé, si on raffraichi la page, l'arbre se déplie même quand les dossiers sont fermés"/>
                </b:column>
                <b:column span="2" offset="1">
                    <p:toggleSwitch value="#{preferenceBean.nodePreference.tree_cache}" style="font-size: 12px;"  />                    
                </b:column>
            </b:row>             
            
            
            <!-- Activer/ désactiver le tri par notation par défaut -->
            <b:row style="margin-left: 30px; margin-right: 30px; font-size: 12px;">
                <b:column span="6">
                    <h:outputText value="Désactiver/Activer le tri par notation par defaut"/>
                </b:column>
                <b:column span="2" offset="1">
                    <p:toggleSwitch value="#{preferenceBean.nodePreference.sort_by_notation}" style="font-size: 12px;"  />                    
                </b:column>
            </b:row>               
            
            
            <p:spacer/>
            <!-- Activer/désactiver le webservices -->
            <b:row style="margin-left: 30px; margin-right: 30px; font-size: 12px;">
                <b:column span="4">
                    <h:outputText value="Désactiver/Activer le webservices" />
                </b:column>
                <b:column span="2" offset="3">
                    <p:toggleSwitch value="#{preferenceBean.nodePreference.webservices}" style="font-size: 12px;" />                    
                </b:column>
            </b:row>              
            <p:spacer/>


            <b:row style="margin-left: 30px; margin-right: 30px; font-size: 12px;">
                <b:column span="2" offset="6"> 
                   <b:commandButton iconAwesome="fas fa-save"  class="btn btn-success"
                                     value="Enregistrer" style="width: 100%; font-size: 12px;"
                                     tooltip="Enregistrer les modifications"  tooltip-delay-show="1000"
                                     action="#{preferenceBean.savePreference()}"
                                     update="settingForm preferenceForm messageIndex"
                                     oncomplete="PF('waitDialog').hide();">
                    </b:commandButton>
                   <!-- <p:commandButton icon="fa fa-save"  class="btn btn-success"
                                     value="Enregistrer" style="width: 100%; font-size: 12px;"
                                     title="Enregistrer les modifications"  
                                     action preferenceBean.savePreference()}"
                                     update="preferenceForm messageIndex"
                                     oncomplete="PF('waitDialog').hide();">
                    </p:commandButton>     -->              
                </b:column>


            </b:row>
            <p:spacer/>
            <b:row>
                <b:column span="8" offset="2" style="font-size: 12px;"> 
                    <b:messages autoUpdate="true" />
                </b:column> 
            </b:row>                

        </b:panel>
    </h:form>        
</ui:fragment>