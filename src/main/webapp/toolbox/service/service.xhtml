<ui:fragment xmlns="http://www.w3.org/1999/xhtml"
             xmlns:h="http://java.sun.com/jsf/html"  
             xmlns:ui="http://java.sun.com/jsf/facelets"
             xmlns:b="http://bootsfaces.net/ui"
             xmlns:p="http://primefaces.org/ui"
             xmlns:f="http://xmlns.jcp.org/jsf/core">

    <h:panelGroup rendered="#{selectedTheso.currentIdTheso != null}" >
        <b:row>
            <b:column span="10" offset="1">
                <h:outputText value="Thesaurus séléctionné : #{selectedTheso.thesoName} (#{selectedTheso.currentIdTheso})"/>
            </b:column>
        </b:row>
        
        <p:spacer/>
        
        <b:row>
            <b:column span="10" offset="1">
                <div class="p-my-3">
                    <p:commandButton value="Correction 1 - restructuration" icon="pi pi-check" iconPos="right"
                                     action="#{restoreTheso.reorganizing(selectedTheso.currentIdTheso)}"/>
                </div>           
            </b:column>
        </b:row>        
        <b:row>
            <b:column span="10" offset="1">
                <p:outputPanel deferred="true">
                    <h4>Permet de corriger les incohérences dans le thésaurus en cours :</h4>
                    <p>1- détecter les concepts TT erronés : si le concept n'a pas de BT, alors, il est forcement TopTerm.<br/>
                       2- compléter le thésaurus par les relations qui manquent NT ou BT.<br/>
                       3- supprimer les relations en boucle (100 -> BT -> 100) ou  (100 -> NT -> 100) ou (100 -> RT -> 100).
                    </p>
                    <p style="color:red;">!!! Ne pas oublier de recharger le thésaurus à la fin du traitement !!!</p>                   
                </p:outputPanel>                
            </b:column>
        </b:row>  
        <p:spacer/>

        <b:row>
            <b:column span="10" offset="1">
                <div class="p-my-3">
                    <p:commandButton value="Correction 2 - créateur/contributeur" icon="pi pi-check" iconPos="right"
                                     action="#{restoreTheso.switchRolesFromTermToConcept(selectedTheso.currentIdTheso)}"/>
                </div>           
            </b:column>
        </b:row>        
        <b:row>
            <b:column span="10" offset="1">
                <p:outputPanel deferred="true">
                    <h4>Permet de corriger les contributreurs et les créateurs des concepts</h4>
                    <p>Transfert des informations du niveau du terme vers le concept général.<br/>
                    </p>
                </p:outputPanel>                
            </b:column>
        </b:row>  

        <p:spacer/>
    </h:panelGroup>
    <h:panelGroup rendered="#{selectedTheso.currentIdTheso == null}" >
        <b:row style="margin-top: 50px;">
            <b:column span="10" offset="1">
                <p:outputPanel deferred="true">
                    <h4>
                        <h:outputText value="!!! Choisissez un thésaurus avant !!!" style="color: #C63632"/>
                    </h4>
                </p:outputPanel>                
            </b:column>
        </b:row>          
    </h:panelGroup>        
        
        <b:row>
            <b:column span="11" offset="1" >
                <b:messages autoUpdate="true"/>
            </b:column>             
        </b:row>

</ui:fragment>