<ui:composition 
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:f="http://xmlns.jcp.org/jsf/core"
    xmlns:h="http://xmlns.jcp.org/jsf/html"
    xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
    xmlns:p="http://primefaces.org/ui">

    <ul class="navbar-nav bg-gradient-primary sidebar sidebar-dark accordion" id="accordionSidebar" >

        <h:panelGroup id="menuBar">
            <a class="sidebar-brand d-flex align-items-center justify-content-center" style="height: 60px" href="#">
                <img src="#{request.contextPath}/resources/img/icon_opentheso.png" style="width:40px" />
                <div class="sidebar-brand-text mx-3">
                    <img src="#{request.contextPath}/resources/img/logo_Opentheso.png" style="height: 35px" />
                </div>
            </a>

            <hr class="sidebar-divider my-0"/>

            <li class="nav-item">
                <span class="nav-link">
                    <i class="fas fa-fw fa-tachometer-alt" />
                    <p:commandLink class="collapse-item" actionListener="#{menuBean.redirectToThesaurus()}"
                                   style="color: #fff; text-decoration: none; font-size: 12px; margin-left: 5px;" process="@this">#{langueBean.getMsg('menu.thesaurus')}</p:commandLink>
                </span>
            </li>

            <h:panelGroup rendered="#{currentUser.nodeUser != null and (selectedTheso.currentIdTheso != null)}" > 
                <li class="nav-item">
                    <span class="nav-link">
                        <i class="fas fa-fw fa-cog"></i>
                        <p:commandLink class="collapse-item" actionListener="#{menuBean.redirectToCandidatPage()}" process="@this" 
                                       style="font-size: 12px; color: #FFF; margin-left: 5px;text-decoration: none;">#{langueBean.getMsg('candidat.titre')}</p:commandLink>
                    </span>
                </li>
            </h:panelGroup>

            <h:panelGroup rendered="#{currentUser.nodeUser != null}" > 
                <li class="nav-item">
                    <a class="nav-link collapsed" href="#" data-toggle="collapse" data-target="#collapseTwo"
                       aria-expanded="true" aria-controls="collapseTwo">
                        <i class="fas fa-fw fa-user"></i>
                        <span style="color: #fff; text-decoration: none; font-size: 12px; margin-left: 5px;">#{langueBean.getMsg('menu.profile')}</span>
                    </a>
                    <div id="collapseTwo" class="collapse" aria-labelledby="headingTwo" data-parent="#accordionSidebar">
                        <div class="bg-white py-2 collapse-inner rounded">
                            <h6 class="collapse-header" style="font-size: 12px;">Menu:</h6>
                            <p:commandLink class="collapse-item" actionListener="#{menuBean.redirectToMyProfilePage()}" 
                                           process="@this" style="font-size: 12px;">Mon compte</p:commandLink>
                            <p:commandLink rendered="#{(currentUser.nodeUser != null) and (roleOnTheso.isAdminOnThisTheso or roleOnTheso.isSuperAdmin)}"
                                           class="collapse-item" actionListener="#{menuBean.redirectToMesProjectsPage()}"
                                           style="font-size: 12px;" process="@this">Mes projets/utilisateurs</p:commandLink>
                            <hr class="sidebar-divider">
                                <p:commandLink rendered="#{(currentUser.nodeUser != null) and (roleOnTheso.isAdminOnThisTheso or roleOnTheso.isSuperAdmin)}"
                                    class="collapse-item" actionListener="#{menuBean.redirectToUsersPage()}" 
                                               style="font-size: 12px;" process="@this">#{langueBean.getMsg('profile.tooltip_all_users')}</p:commandLink>
                                <p:commandLink class="collapse-item" actionListener="#{menuBean.redirectToProjetsPage()}"
                                               style="font-size: 12px;" process="@this">Tous les projets</p:commandLink>
                                <p:commandLink rendered="#{(currentUser.nodeUser != null) and (roleOnTheso.isAdminOnThisTheso or roleOnTheso.isSuperAdmin)}"
                                    class="collapse-item" actionListener="#{menuBean.redirectToThesorusPage()}"
                                               style="font-size: 12px;" process="@this">Tous les thésaurus</p:commandLink>
                            </hr>
                        </div>
                    </div>
                </li>
            </h:panelGroup>

            <h:panelGroup rendered="#{(currentUser.nodeUser != null) and 
                                      (currentUser.allAuthorizedProjectAsAdmin.size() > 0 or currentUser.nodeUser.isSuperAdmin)}" >        
                <li class="nav-item">
                    <a class="nav-link collapsed" href="#" data-toggle="collapse" data-target="#collapseUtilities"
                       aria-expanded="true" aria-controls="collapseUtilities">
                        <i class="fas fa-fw fa-briefcase"></i>
                        <span style="color: #fff; text-decoration: none; font-size: 12px;">#{langueBean.getMsg('menu.toolbox')}</span>
                    </a>
                    <div id="collapseUtilities" class="collapse" aria-labelledby="headingUtilities"
                         data-parent="#accordionSidebar">
                        <div class="bg-white py-2 collapse-inner rounded">
                            <h6 class="collapse-header" style="font-size: 12px;">Menu:</h6>
                            <p:commandLink class="collapse-item" actionListener="#{menuBean.redirectToEditionPage()}" 
                                           style="font-size: 12px;" process="@this">Edition</p:commandLink>
                            <p:commandLink class="collapse-item" actionListener="#{menuBean.redirectToAtelierPage()}" 
                                           style="font-size: 12px;" process="@this">Atelier thésaurus</p:commandLink>
                            <p:commandLink class="collapse-item" actionListener="#{menuBean.redirectToMaintenancePage()}" 
                                           style="font-size: 12px;"  process="@this">Maintenance</p:commandLink>
                            <p:commandLink class="collapse-item" actionListener="#{menuBean.redirectToStatistiquePage()}" 
                                           style="font-size: 12px;"  process="@this">Statistique</p:commandLink>
                        </div>
                    </div>
                </li>
            </h:panelGroup>

            <h:panelGroup rendered="#{(currentUser.nodeUser != null) and (selectedTheso.currentIdTheso != null)
                                      and (roleOnTheso.isAdminOnThisTheso or roleOnTheso.isSuperAdmin)}" >        
                <li class="nav-item">
                    <a class="nav-link collapsed" href="#" data-toggle="collapse" data-target="#collapseParams"
                       aria-expanded="true" aria-controls="collapseParams">
                        <i class="fas fa-fw fa-wrench"></i>
                        <span style="color: #fff; text-decoration: none; font-size: 12px;">#{langueBean.getMsg('menu.setting')}</span>
                    </a>
                    <div id="collapseParams" class="collapse" aria-labelledby="headingUtilities"
                         data-parent="#accordionSidebar">
                        <div class="bg-white py-2 collapse-inner rounded">
                            <h6 class="collapse-header" style="font-size: 12px;">Menu:</h6>
                            <p:commandLink class="collapse-item" actionListener="#{menuBean.redirectToPreferencePage()}" 
                                           style="font-size: 12px;" process="@this">Préférence</p:commandLink>
                            <p:commandLink class="collapse-item" actionListener="#{menuBean.redirectToIdetifiantPage()}" 
                                           style="font-size: 12px;" process="@this">Identifiant</p:commandLink>
                            <p:commandLink class="collapse-item" actionListener="#{menuBean.redirectToCorpusPage()}" 
                                           style="font-size: 12px;" process="@this">Corpus</p:commandLink>
                        </div>
                    </div>
                </li>
                <hr class="sidebar-divider"/>
            </h:panelGroup>
        </h:panelGroup>

        <div class="text-center d-none d-md-inline">
            <button class="rounded-circle border-0" id="sidebarToggle" />
        </div>

        <div class="text-center d-none d-md-inline" style="height: 100%; width: 100%; position: relative; ">
            <div style="position: absolute; bottom: 0; left: 0; align-content: center; 
                 width: 100%; margin-bottom: 30px; margin-left: -10px">
                <img src="#{request.contextPath}/resources/img/logo1.png" style="width:50px;" />
            </div>
        </div>

    </ul>
</ui:composition>