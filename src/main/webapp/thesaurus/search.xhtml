<ui:fragment xmlns="http://www.w3.org/1999/xhtml"  
             xmlns:ui="http://java.sun.com/jsf/facelets"
             xmlns:f="http://java.sun.com/jsf/core"
             xmlns:h="http://xmlns.jcp.org/jsf/html"
             xmlns:p="http://primefaces.org/ui">

    <div class="row" style="width: 100%">
        <div class="col-12">
            <div style="display:flex; flex-direction: row; justify-content: center; align-items: center">
                <p:selectOneMenu id="languageSelect" value="#{selectedTheso.selectedLang}" style="width: 200px; color: #000"
                                 title="#{langueBean.getMsg('search.change_thesaurus_language')}">
                    <p:ajax event="valueChange" update="containerIndex" 
                            listener="#{selectedTheso.changeLang()}" />
                    <f:selectItems value="#{selectedTheso.nodeLangs}" var="lang" itemLabel="#{lang.value}" itemValue="#{lang.code}" />
                    <f:selectItem itemLabel="#{langueBean.getMsg('search.any_language')}" itemValue="all" />
                </p:selectOneMenu>

                <p:autoComplete value="#{searchBean.searchSelected}" var="values" style="margin-left: 10px"
                                completeMethod="#{searchBean.completTermFullText}"
                                minQueryLength="1" itemLabel="#{values.prefLabel}" itemValue="#{values}" converter="searchConverter"
                                scrollHeight="600" inputStyle="font-size: 12px; width: 400px; height: 27px;box-shadow: none; color: #000">
                    <p:column rendered="#{values.isAltLabel}" style="font-size: 12px;">
                        <h:outputText title="#{values.idConcept}" value="#{values.altLabel}"
                                      style="font-style: italic;" />
                        <h:outputText title="#{values.idConcept}" value=" -> #{values.prefLabel}" style="color: blue" />                                        
                    </p:column>

                    <p:column rendered="#{!values.isAltLabel}" style="font-size: 12px;">
                        <h:outputText title="#{values.idConcept}" value="#{values.prefLabel}" />
                    </p:column>
                    <p:ajax event="itemSelect" listener="#{searchBean.onSelect()}" update="containerIndex:formLeftTab containerIndex:formRightTab"/>
                </p:autoComplete>

                <p:commandButton icon="pi pi-search" styleClass="ui-button-warning" action="#{searchBean.applySearch()}"
                                 update="containerIndex messageIndex"
                                 style="color: #FAFAFA; background: #F7A269; border: none; height: 27px; border-color: #43B572"/>   
            </div>
        </div>
    </div>

    <div class="row" style="width: 100%; margin-top: 10px; margin-bottom: 10px; background-color: #f5f6f9">
        <div class="col-12" style="display:flex; flex-direction: row; justify-content: center; align-items: center" >
            <p:selectBooleanCheckbox itemLabel="#{langueBean.getMsg('search.startWith')}" value="#{searchBean.indexMatch}" 
                                     style="color: #000; background-color: transparent;">
                <p:ajax listener="#{searchBean.activateIndexMatch()}"/>
            </p:selectBooleanCheckbox>

            <p:selectBooleanCheckbox itemLabel="#{langueBean.getMsg('search.exact')}" value="#{searchBean.exactMatch}"
                                     style="color: #000; background-color: transparent;">
                <p:ajax listener="#{searchBean.activateExactMatch()}"/>
            </p:selectBooleanCheckbox>

            <p:selectBooleanCheckbox itemLabel="#{langueBean.getMsg('search.note')}" value="#{searchBean.withNote}"
                                     style="color: #000; background-color: transparent;">
                <p:ajax listener="#{searchBean.activateWithNote()}"/>
            </p:selectBooleanCheckbox>

            <p:selectBooleanCheckbox itemLabel="#{langueBean.getMsg('search.identifier')}" value="#{searchBean.withId}"
                                     style="color: #000; background-color: transparent;">
                <p:ajax listener="#{searchBean.activateWithId()}"/>
            </p:selectBooleanCheckbox>

            <p:menuButton style="font-size: 12px;" title="Recherche pré-programmée" icon="pi pi-align-justify">
                <p:menuitem value="Poly-hiérarchie" action="#{searchBean.getAllPolyierarchy()}" 
                            update="containerIndex:formRightTab" style="font-size: 12px;" 
                            title="Rechercher les concepts polyhiérarchiques"/>

                <p:menuitem value="Multi-groupes" action="#{searchBean.searchConceptWithMultiGroup()}" 
                            update="containerIndex:formRightTab" style="font-size: 12px;" 
                            title="Rechercher les concepts qui ont plusieurs groupes"/>

                <p:menuitem value="Sans-groupes" action="#{searchBean.searchConceptWithoutGroup()}" 
                            update="containerIndex:formRightTab" style="font-size: 12px;" 
                            title="Rechercher les concepts qui n'ont pas de groupes"/>

                <p:menuitem value="Doublons" action="#{searchBean.searchConceptDuplicated()}" 
                            update="containerIndex:formRightTab" style="font-size: 12px;" 
                            title="Rechercher les concepts qui ont un libellé en doublon"/>

                <p:menuitem value="Relations interdites" action="#{searchBean.searchConceptWithRTandBT()}" 
                            update="containerIndex:formRightTab" style="font-size: 12px;" 
                            title="Rechercher les concepts qui ont une relation interdite, à la fois RT et (NT ou BT)"/>
            </p:menuButton>
        </div>
    </div>
</ui:fragment>