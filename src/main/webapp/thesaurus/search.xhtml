<ui:fragment xmlns="http://www.w3.org/1999/xhtml"  
             xmlns:ui="http://java.sun.com/jsf/facelets"
             xmlns:f="http://java.sun.com/jsf/core"
             xmlns:h="http://xmlns.jcp.org/jsf/html"
             xmlns:p="http://primefaces.org/ui">

    <h:form id="formSearch" style="margin-bottom: 10px; align-content: center">



        <div style="width: 100%; display: flex; text-align: center;">
            <div style="width: 35%;" />

            <div style="width: 30%; text-align: center; vertical-align:middle;">
                <div style="display: flex;">
                    <div style="text-align: right; margin-right: 10px">
                        <p:selectOneMenu id="languageSelect" value="#{selectedTheso.selectedLang}" 
                                         style="width: 200px; border-color: #43B572"
                                         title="#{langueBean.getMsg('search.change_thesaurus_language')}">
                            <p:ajax event="valueChange" update="containerIndex" 
                                    listener="#{selectedTheso.changeLang()}" />
                            <f:selectItems value="#{selectedTheso.nodeLangs}" var="lang" itemLabel="#{lang.value}" itemValue="#{lang.code}" />
                            <f:selectItem itemLabel="#{langueBean.getMsg('search.any_language')}" itemValue="all" />
                        </p:selectOneMenu>    
                    </div>
                    <div class="ui-inputgroup">
                        <p:autoComplete id="nomTerme" value="#{searchBean.searchSelected}"
                                        var="values"
                                        completeMethod="#{searchBean.completTermFullText}"                                  
                                        minQueryLength="1" itemLabel="#{values.prefLabel}" itemValue="#{values}" converter="searchConverter"
                                        scrollHeight="600" inputStyle="font-size: 12px; width: 400px%; height: 27px;box-shadow: none;border-color: #43B572"
                                        style="font-size: 12px; width: 100%">
                            <p:column rendered="#{values.isAltLabel}" style="font-size: 12px;">
                                <h:outputText title="#{values.idConcept}" value="#{values.altLabel}"
                                              style="font-style: italic;" />
                                <h:outputText title="#{values.idConcept}" value=" -> #{values.prefLabel}" style="color: blue" />                                        
                            </p:column>

                            <p:column rendered="#{!values.isAltLabel}" style="font-size: 12px;">
                                <h:outputText title="#{values.idConcept}" value="#{values.prefLabel}" />
                            </p:column>
                            <p:ajax event="itemSelect" listener="#{searchBean.onSelect()}" update="@parent containerIndex:formRightTab"/>
                        </p:autoComplete>

                        <p:commandButton icon="pi pi-search" styleClass="ui-button-warning" action="#{searchBean.applySearch()}"
                                         update="containerIndex:formRightTab messageIndex"
                                         style="color: #FAFAFA; background: #F7A269; border: none; height: 27px; border-color: #43B572"/>
                    </div>
                </div>
            </div>

            <div style="width: 35%;" />
        </div>

        <div style="width: 100%; display: flex; text-align: center;">
            <div style="width: 35%;" />

            <div style="width: 30%; text-align: center; vertical-align:middle;">
                <p:panelGrid columns="5" styleClass="ui-noborder">
                    <p:selectBooleanCheckbox itemLabel="#{langueBean.getMsg('search.startWith')}" value="#{searchBean.indexMatch}" >
                        <p:ajax update="formSearch" listener="#{searchBean.activateIndexMatch()}"/>
                    </p:selectBooleanCheckbox>

                    <p:selectBooleanCheckbox itemLabel="#{langueBean.getMsg('search.exact')}" value="#{searchBean.exactMatch}" >
                        <p:ajax update="formSearch" listener="#{searchBean.activateExactMatch()}"/>
                    </p:selectBooleanCheckbox>

                    <p:selectBooleanCheckbox itemLabel="#{langueBean.getMsg('search.note')}" value="#{searchBean.withNote}" >
                        <p:ajax update="formSearch" listener="#{searchBean.activateWithNote()}"/>
                    </p:selectBooleanCheckbox>

                    <p:selectBooleanCheckbox itemLabel="#{langueBean.getMsg('search.identifier')}" value="#{searchBean.withId}" >
                        <p:ajax update="formSearch" listener="#{searchBean.activateWithId()}"/>
                    </p:selectBooleanCheckbox>

                    <p:menuButton value="++" style="font-size: 12px;" title="Recherche pré-programmée">
                        <p:menuitem value="Poly-hiérarchie" action="#{searchBean.getAllPolyierarchy()}" 
                                    update="containerIndex:formRightTab" style="font-size: 12px;" 
                                    title="Rechercher les concepts polyhiérarchiques"/>

                        <p:menuitem value="Multi-groupes" action="#{searchBean.searchConceptWithMultiGroup()}" 
                                    update="containerIndex:formRightTab" style="font-size: 12px;" 
                                    title="Rechercher les concepts qui ont plusieurs groupes"/>

                        <p:menuitem value="Sans-groupes" action="#{searchBean.searchConceptWithoutGroup()}" 
                                    update="containerIndex:formRightTab" style="font-size: 12px;" 
                                    title="Rechercher les concepts qui n'ont pas de groupes"/>

                        <p:menuitem value="Doublons" action="#{searchBean.searchConceptDuplicated()}" 
                                    update="containerIndex:formRightTab" style="font-size: 12px;" 
                                    title="Rechercher les concepts qui ont un libellé en doublon"/>

                        <p:menuitem value="Relations interdites" action="#{searchBean.searchConceptWithRTandBT()}" 
                                    update="containerIndex:formRightTab" style="font-size: 12px;" 
                                    title="Rechercher les concepts qui ont une relation interdite, à la fois RT et (NT ou BT)"/>
                    </p:menuButton>
                </p:panelGrid>
            </div>

            <div style="width: 35%;" />
        </div>    
    </h:form>
</ui:fragment>