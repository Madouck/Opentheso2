<ui:composition 
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:p="http://primefaces.org/ui"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:h="http://xmlns.jcp.org/jsf/html"
    xmlns:ui="http://xmlns.jcp.org/jsf/facelets">

    <div class="container-fluid" style="height: 100%;">

        <div class="d-sm-flex align-items-center justify-content-between mb-4" 
             style="height: 75px; width: 100%; margin-top: 35px;">
            <div style="position: relative; height: 100%; width: 100%;" >
                <div style="position: absolute; width: 100%; height: 100%; top: 0; left: 0; z-index: 1; ">
                    <ui:include src="search.xhtml"/>
                </div>
                <div style="position: absolute; width: 100%; height: 100%; top: 0; left: 0; font-size: 12px;">
                    <h1 class="h5 mb-0 text-gray-500">#{langueBean.getMsg('menu.thesaurus')}</h1>
                </div>
            </div>
        </div>

        <div class="row" style="margin-left: 10px; margin-right: 10px; margin-top: -40px;">
            <div class="col-xl-3 col-lg-3 col-md-3 col-sm-4" style=" height: 100%">
                <div class="card shadow mb-1" style=" height: 100%">
                    <h:form id="formLeftTab" style=" height: 100%;">
                        <div class="row" style="border-style: none; width: 100%;">
                            <p:tabView id="tabTree" activeIndex="#{leftBodySetting.index}" style="border-style: none; width: 100%;" >

                                <div class="col-xl-2 col-lg-2 col-md-1 col-sm-1" style="height: 100%;">
                                    <p:tab>
                                        <f:facet name="title">
                                            <i class="pi pi-sitemap" />
                                            <h:outputText value=" #{langueBean.getMsg('leftbody.concept')}"/>
                                        </f:facet>
                                        <ui:include src="leftBodyView/tree.xhtml"/>
                                    </p:tab>                                            
                                </div>
                                <div class="col-xl-2 col-lg-2 col-md-1 col-sm-1" style=" height: 100%">
                                    <p:tab>
                                        <f:facet name="title">
                                            <i class="pi pi-list" />
                                            <h:outputText value=" #{langueBean.getMsg('leftbody.index')}"/>
                                        </f:facet>
                                        <ui:include src="leftBodyView/list.xhtml"/>
                                    </p:tab>                                            
                                </div>
                                <div class="col-xl-2 col-lg-2 col-md-1 col-sm-1" style=" height: 100%">
                                    <p:tab>
                                        <f:facet name="title">
                                            <i class="pi pi-folder-open" />
                                            <h:outputText value=" #{langueBean.getMsg('leftbody.collection')}"/>
                                        </f:facet>
                                        <ui:include src="leftBodyView/groups.xhtml"/>
                                    </p:tab>                                            
                                </div>
                                <div class="col-xl-2 col-lg-2 col-md-1 col-sm-1" style=" height: 100%">
                                    <p:tab>
                                        <f:facet name="title">
                                            <i class="pi pi-sitemap" />
                                            <h:outputText value=" #{langueBean.getMsg('leftbody.tree')}"/>
                                        </f:facet>
                                        <ui:include src="leftBodyView/conceptsTree.xhtml" />       
                                    </p:tab>                                     
                                </div>                                        
                            </p:tabView>
                        </div>
                        <ui:include src="../dialog/dragAndDrop/dragAndDrop.xhtml" />
                    </h:form>
                </div>
            </div>

            <div class="col-xl-9 col-lg-9 col-md-9 col-sm-8" style="height: 100%">
                <div class="card shadow mb-4" style="height: 100%;">
                    <p:panel id="formRightTab">
                        <p:tabView id="rightTab" activeIndex="#{rightBodySetting.index}" rendered="#{indexSetting.isValueSelected}"
                                   style="border-style: none; height: 100%">

                            <p:ajax event="tabChange" listener="#{tree.onTabChange}" update="containerIndex:formRightTab" />

                            <p:tab id="viewTabConcept" title="#{langueBean.getMsg('leftbody.concept')}" >
                                <f:facet name="anchor">
                                    <i class="pi pi-sitemap" style="color: #f47b2a" size="s" />
                                </f:facet>
                                <ui:include rendered="#{rightBodySetting.showConcept}" src="rightBodyView/concept.xhtml"/>
                            </p:tab>

                            <p:tab  id="viewTabGroup" title="#{langueBean.getMsg('leftbody.collection')}" >
                                <f:facet name="anchor">
                                    <i class="pi pi-sitemap" style="color: #f47b2a" size="s" />
                                </f:facet>
                                <ui:include rendered="#{rightBodySetting.showGroup}" src="rightBodyView/group.xhtml"/>
                            </p:tab>              

                            <p:tab id="viewTabSearch" title="#{langueBean.getMsg('rightbody.search_result')}" >
                                <f:facet name="anchor">
                                    <i class="pi pi-sitemap" style="color: #f47b2a" size="s" />
                                </f:facet>
                                <ui:include  src="rightBodyView/resultSearch.xhtml"/>
                            </p:tab>              

                            <p:tab id="viewTabAlignement" title="#{langueBean.getMsg('rightbody.alignement')}" >
                                <f:facet name="anchor">
                                    <i class="pi pi-sitemap" style="color: #f47b2a" size="s" />
                                </f:facet>
                                <ui:include src="rightBodyView/alignement.xhtml"/>
                            </p:tab>
                        </p:tabView>

                        <h:panelGroup rendered="#{indexSetting.isFacetSelected}">
                            <ui:include src="rightBodyView/facet.xhtml" />
                        </h:panelGroup>

                        <h:panelGroup rendered="#{indexSetting.isHomeSelected}" >
                            <ui:include src="rightBodyView/thesoHome.xhtml" />
                        </h:panelGroup>
                    </p:panel>
                </div>
            </div>
        </div>
    </div>
    <ui:include src="../dialog/concept/addTopConcept.xhtml" />
    <ui:include src="../dialog/group/addGroup.xhtml" />
    <ui:include src="../dialog/group/addSubGroup.xhtml" />
    <ui:include src="../dialog/group/deleteGroup.xhtml" />

    <ui:include src="../dialog/alignment/addAlignmentDialog.xhtml" />
    <ui:include src="../dialog/alignment/updateSingleAlignment.xhtml" />
    <ui:include src="../dialog/alignment/confirmDeleteAlignment.xhtml" /> 
    
    <ui:include src="../dialog/alignment/updateAlignment.xhtml" />

</ui:composition>